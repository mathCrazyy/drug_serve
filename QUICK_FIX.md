# 快速解决方案：函数计算超时问题

## 问题

依赖安装需要 **2分40秒**，但健康检查超时只有 **120秒**，导致启动失败。

## 立即解决方案

### 方案一：增加超时时间（最简单）⭐

**在函数计算控制台**：

1. 进入函数配置
2. 找到 **"超时时间"** 设置
3. 设置为 **300 秒**（5分钟）
4. 保存配置
5. 重新部署

这样首次启动时就有足够时间安装依赖。

### 方案二：使用 Dockerfile（最可靠）⭐⭐

依赖在构建时安装，运行时直接启动，不会超时。

```bash
cd backend
docker build -t drug-serve-fc:latest -f Dockerfile .
docker save drug-serve-fc:latest -o drug-serve-fc.tar
```

然后在函数计算控制台上传 `drug-serve-fc.tar` 镜像文件。

## 为什么需要这样做？

- 依赖下载速度：~15 kB/s
- 需要下载：~3 MB
- 预计时间：~2分40秒
- 健康检查超时：120秒 ❌

**结果**：依赖还没装完就超时了。

## 推荐操作

1. **立即操作**：在函数计算控制台将超时时间改为 **300 秒**
2. **长期方案**：使用 Dockerfile 构建镜像（依赖预安装）

## 验证

部署后查看日志，应该看到：
```
=== 检查依赖 ===
依赖未安装，开始安装...
注意：首次启动需要安装依赖，可能需要 3-5 分钟
...
✓ 依赖安装完成，启动应用
INFO:     Started server process
```

